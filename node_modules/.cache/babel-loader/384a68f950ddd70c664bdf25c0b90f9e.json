{"ast":null,"code":"import _objectSpread from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/teishunrai/main/react-file/change/change-state/src/connect.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar connect = function connect(mapStateToProps) {\n  return function (WrapperComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(_class, _Component);\n\n      function _class(props) {\n        var _this;\n\n        _classCallCheck(this, _class);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n        _this.state = {\n          allProps: {}\n        };\n        return _this;\n      }\n\n      _createClass(_class, [{\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n          var _this2 = this;\n\n          var store = this.context.store;\n\n          this._updateStore();\n\n          store.subscribe(function () {\n            _this2._updateStore();\n          });\n        }\n      }, {\n        key: \"_updateStore\",\n        value: function _updateStore() {\n          var store = this.context.store;\n          var letState = mapStateToProps(store.getState(), this.props);\n          this.setState({\n            allProps: _objectSpread({}, letState, this.props)\n          });\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var store = this.context.store;\n          var mapToProps = mapStateToProps(store.getState());\n          return React.createElement(WrapperComponent, Object.assign({}, mapToProps, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }));\n        }\n      }]);\n\n      return _class;\n    }(Component), _class.contextType = {\n      store: PropTypes.object\n    }, _temp;\n  };\n};\n\nexport { connect };","map":{"version":3,"sources":["/Users/teishunrai/main/react-file/change/change-state/src/connect.js"],"names":["React","Component","PropTypes","connect","mapStateToProps","WrapperComponent","props","state","allProps","store","context","_updateStore","subscribe","letState","getState","setState","mapToProps","contextType","object"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,eAAe;AAAA,SAAI,UAAAC,gBAAgB,EAAI;AAAA;;AACrD;AAAA;AAAA;AAAA;;AAKE,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AACA,cAAKC,KAAL,GAAa;AACXC,UAAAA,QAAQ,EAAE;AADC,SAAb;AAFiB;AAKlB;;AAVH;AAAA;AAAA,6CAYuB;AAAA;;AAAA,cACXC,KADW,GACD,KAAKC,OADJ,CACXD,KADW;;AAEnB,eAAKE,YAAL;;AACAF,UAAAA,KAAK,CAACG,SAAN,CAAgB,YAAM;AACpB,YAAA,MAAI,CAACD,YAAL;AACD,WAFD;AAGD;AAlBH;AAAA;AAAA,uCAoBiB;AAAA,cACLF,KADK,GACK,KAAKC,OADV,CACLD,KADK;AAEb,cAAMI,QAAQ,GAAGT,eAAe,CAACK,KAAK,CAACK,QAAN,EAAD,EAAmB,KAAKR,KAAxB,CAAhC;AACA,eAAKS,QAAL,CAAc;AACZP,YAAAA,QAAQ,oBACHK,QADG,EAEH,KAAKP,KAFF;AADI,WAAd;AAMD;AA7BH;AAAA;AAAA,iCA+BW;AAAA,cACCG,KADD,GACW,KAAKC,OADhB,CACCD,KADD;AAEP,cAAMO,UAAU,GAAGZ,eAAe,CAACK,KAAK,CAACK,QAAN,EAAD,CAAlC;AACA,iBACE,oBAAC,gBAAD,oBAAsBE,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF;AAGD;AArCH;;AAAA;AAAA,MAAqBf,SAArB,UACSgB,WADT,GACuB;AACnBR,MAAAA,KAAK,EAAEP,SAAS,CAACgB;AADE,KADvB;AAuCD,GAxC8B;AAAA,CAA/B;;AA0CA,SAASf,OAAT","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst connect = mapStateToProps => WrapperComponent => {\n  return class extends Component {\n    static contextType = {\n      store: PropTypes.object\n    }\n\n    constructor(props) {\n      super(props)\n      this.state = {\n        allProps: {}\n      }\n    }\n\n    componentWillMount() {\n      const { store } = this.context\n      this._updateStore()\n      store.subscribe(() => {\n        this._updateStore()\n      })\n    }\n\n    _updateStore() {\n      const { store } = this.context\n      const letState = mapStateToProps(store.getState(), this.props)\n      this.setState({\n        allProps: {\n          ...letState,\n          ...this.props\n        }\n      })\n    }\n\n    render() {\n      const { store } = this.context\n      const mapToProps = mapStateToProps(store.getState())\n      return (\n        <WrapperComponent {...mapToProps} />\n      )\n    }\n  }\n}\n\nexport { connect }"]},"metadata":{},"sourceType":"module"}