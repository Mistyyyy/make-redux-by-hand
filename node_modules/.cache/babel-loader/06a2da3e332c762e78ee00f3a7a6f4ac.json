{"ast":null,"code":"import _objectSpread from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nfunction createStore(reducer) {\n  var state = null;\n  var listeners = [];\n\n  var subscribe = function subscribe(listener) {\n    return listeners.push(listener);\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var dispatch = function dispatch(action) {\n    state = reducer(state, action);\n    listeners.forEach(function (listener) {\n      return listener();\n    });\n  };\n\n  dispatch({}); // 初始化 state\n\n  return {\n    getState: getState,\n    dispatch: dispatch,\n    subscribe: subscribe\n  };\n}\n\nvar themeReducer = function themeReducer(state, action) {\n  if (!state) return {\n    themeColor: 'red'\n  };\n\n  switch (action.type) {\n    case 'CHANGE_COLOR':\n      return _objectSpread({}, state, {\n        themeColor: action.themeColor\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar store = createStore(themeReducer);\nexport default store;","map":{"version":3,"sources":["/Users/teishunrai/main/react-file/change/change-state/src/store.js"],"names":["createStore","reducer","state","listeners","subscribe","listener","push","getState","dispatch","action","forEach","themeReducer","themeColor","type","store"],"mappings":";;AAAA,SAASA,WAAT,CAAsBC,OAAtB,EAA+B;AAC7B,MAAIC,KAAK,GAAG,IAAZ;AACA,MAAMC,SAAS,GAAG,EAAlB;;AACA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD;AAAA,WAAcF,SAAS,CAACG,IAAV,CAAeD,QAAf,CAAd;AAAA,GAAlB;;AACA,MAAME,QAAQ,GAAG,SAAXA,QAAW;AAAA,WAAML,KAAN;AAAA,GAAjB;;AACA,MAAMM,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAY;AAC3BP,IAAAA,KAAK,GAAGD,OAAO,CAACC,KAAD,EAAQO,MAAR,CAAf;AACAN,IAAAA,SAAS,CAACO,OAAV,CAAkB,UAACL,QAAD;AAAA,aAAcA,QAAQ,EAAtB;AAAA,KAAlB;AACD,GAHD;;AAIAG,EAAAA,QAAQ,CAAC,EAAD,CAAR,CAT6B,CAShB;;AACb,SAAO;AAAED,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,QAAQ,EAARA,QAAZ;AAAsBJ,IAAAA,SAAS,EAATA;AAAtB,GAAP;AACD;;AAED,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAACT,KAAD,EAAQO,MAAR,EAAmB;AACtC,MAAI,CAACP,KAAL,EAAY,OAAO;AACjBU,IAAAA,UAAU,EAAE;AADK,GAAP;;AAGZ,UAAQH,MAAM,CAACI,IAAf;AACE,SAAK,cAAL;AACE,+BAAYX,KAAZ;AAAmBU,QAAAA,UAAU,EAAEH,MAAM,CAACG;AAAtC;;AACF;AACE,aAAOV,KAAP;AAJJ;AAMD,CAVD;;AAYA,IAAMY,KAAK,GAAGd,WAAW,CAACW,YAAD,CAAzB;AAEA,eAAeG,KAAf","sourcesContent":["function createStore (reducer) {\n  let state = null\n  const listeners = []\n  const subscribe = (listener) => listeners.push(listener)\n  const getState = () => state\n  const dispatch = (action) => {\n    state = reducer(state, action)\n    listeners.forEach((listener) => listener())\n  }\n  dispatch({}) // 初始化 state\n  return { getState, dispatch, subscribe }\n}\n\nconst themeReducer = (state, action) => {\n  if (!state) return {\n    themeColor: 'red'\n  }\n  switch (action.type) {\n    case 'CHANGE_COLOR':\n      return { ...state, themeColor: action.themeColor }\n    default:\n      return state\n  }\n}\n\nconst store = createStore(themeReducer)\n\nexport default store"]},"metadata":{},"sourceType":"module"}