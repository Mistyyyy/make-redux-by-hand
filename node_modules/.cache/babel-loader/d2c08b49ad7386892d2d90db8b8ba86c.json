{"ast":null,"code":"import _objectSpread from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/teishunrai/main/react-file/change/change-state/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/teishunrai/main/react-file/change/change-state/src/connect.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar connect = function connect(mapStateToProps, mapDispatchToProps) {\n  return function (WrapperComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(_class, _Component);\n\n      function _class(props) {\n        var _this;\n\n        _classCallCheck(this, _class);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n        _this.state = {\n          allProps: {}\n        };\n        return _this;\n      }\n\n      _createClass(_class, [{\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n          var _this2 = this;\n\n          var store = this.context.store;\n\n          this._updateStore();\n\n          store.subscribe(function () {\n            _this2._updateStore();\n          });\n        }\n      }, {\n        key: \"_updateStore\",\n        value: function _updateStore() {\n          var store = this.context.store;\n          var letState = mapStateToProps ? mapStateToProps(store.getState(), this.props) : {};\n          var dispatchProps = mapDispatchToProps ? mapDispatchToProps(store.dispatch) : {};\n          this.setState({\n            allProps: _objectSpread({}, letState, this.props)\n          });\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return React.createElement(WrapperComponent, Object.assign({}, this.state.allProps, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }));\n        }\n      }]);\n\n      return _class;\n    }(Component), _class.contextTypes = {\n      store: PropTypes.object\n    }, _temp;\n  };\n};\n\nexport { connect };","map":{"version":3,"sources":["/Users/teishunrai/main/react-file/change/change-state/src/connect.js"],"names":["React","Component","PropTypes","connect","mapStateToProps","mapDispatchToProps","WrapperComponent","props","state","allProps","store","context","_updateStore","subscribe","letState","getState","dispatchProps","dispatch","setState","contextTypes","object"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,eAAD,EAAkBC,kBAAlB;AAAA,SAAyC,UAAAC,gBAAgB,EAAI;AAAA;;AAC3E;AAAA;AAAA;AAAA;;AAKE,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AACA,cAAKC,KAAL,GAAa;AACXC,UAAAA,QAAQ,EAAE;AADC,SAAb;AAFiB;AAKlB;;AAVH;AAAA;AAAA,6CAYuB;AAAA;;AAAA,cACXC,KADW,GACD,KAAKC,OADJ,CACXD,KADW;;AAEnB,eAAKE,YAAL;;AACAF,UAAAA,KAAK,CAACG,SAAN,CAAgB,YAAM;AACpB,YAAA,MAAI,CAACD,YAAL;AACD,WAFD;AAGD;AAlBH;AAAA;AAAA,uCAoBiB;AAAA,cACLF,KADK,GACK,KAAKC,OADV,CACLD,KADK;AAEb,cAAII,QAAQ,GAAGV,eAAe,GAC1BA,eAAe,CAACM,KAAK,CAACK,QAAN,EAAD,EAAmB,KAAKR,KAAxB,CADW,GAE1B,EAFJ;AAGA,cAAIS,aAAa,GAAGX,kBAAkB,GAClCA,kBAAkB,CAACK,KAAK,CAACO,QAAP,CADgB,GAElC,EAFJ;AAGA,eAAKC,QAAL,CAAc;AACZT,YAAAA,QAAQ,oBACHK,QADG,EAEH,KAAKP,KAFF;AADI,WAAd;AAMD;AAlCH;AAAA;AAAA,iCAoCW;AACP,iBACE,oBAAC,gBAAD,oBAAsB,KAAKC,KAAL,CAAWC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF;AAGD;AAxCH;;AAAA;AAAA,MAAqBR,SAArB,UACSkB,YADT,GACwB;AACpBT,MAAAA,KAAK,EAAER,SAAS,CAACkB;AADG,KADxB;AA0CD,GA3Ce;AAAA,CAAhB;;AA6CA,SAASjB,OAAT","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst connect = (mapStateToProps, mapDispatchToProps) => WrapperComponent => {\n  return class extends Component {\n    static contextTypes = {\n      store: PropTypes.object\n    }\n\n    constructor(props) {\n      super(props)\n      this.state = {\n        allProps: {}\n      }\n    }\n\n    componentWillMount() {\n      const { store } = this.context\n      this._updateStore()\n      store.subscribe(() => {\n        this._updateStore()\n      })\n    }\n\n    _updateStore() {\n      const { store } = this.context\n      let letState = mapStateToProps\n        ? mapStateToProps(store.getState(), this.props)\n        : {}\n      let dispatchProps = mapDispatchToProps\n        ? mapDispatchToProps(store.dispatch)\n        : {}\n      this.setState({\n        allProps: {\n          ...letState,\n          ...this.props\n        }\n      })\n    }\n\n    render() {\n      return (\n        <WrapperComponent {...this.state.allProps} />\n      )\n    }\n  }\n}\n\nexport { connect }"]},"metadata":{},"sourceType":"module"}